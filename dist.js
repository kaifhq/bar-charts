const x=e=>e>=1e7?(e/1e6|0)+"m":e>=1e4?(e/1e3|0)+"k":e;export default({data:e,...d})=>{let o="",y="",m=e.length,a=e.reduce((t,r)=>t>r[1]?t:r[1]),l=Math.exp((0|Math.log10(a))*Math.LN10),[s,c,h]=Array.from("yax",t=>{let r=[];if(t=="y"){a=l+l*(a/l|0);for(let i=4,n=i;n>=0;)r.push({elem:"div",innerText:x(n--*a/i|0)})}else r=e.map(i=>t=="a"?{elem:"div",className:"b",style:{height:100*i[1]/a+"%",width:100/m-1.6+"%",borderRadius:".5rem .5rem 0 0",background:"currentcolor",margin:"0 .8%"}}:{innerText:i[0]+"",style:{width:"100%",textAlign:"center"}});return{elem:"div",style:{display:"flex",justifyContent:"space-between",alignItems:t=="x"?"flex-start":"flex-end",gridArea:t,flexDirection:t=="y"?"column":"",margin:t=="a"?".8%":""},children:r}});return{...d,elem:"div",style:{display:"grid",gridTemplate:"'y a'1fr'n x'4ch/4ch 1fr"},children:[s,c,h]}};
